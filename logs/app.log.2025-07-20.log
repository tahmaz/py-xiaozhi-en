2025-07-20 16:02:36,369[root] - INFO - 日志系统已初始化，日志文件: /home/tahmaz/py-xiaozhi/logs/app.log - MainThread
2025-07-20 16:02:37,591[src.utils.config_manager] - INFO - MQTT服务器信息已更新 - MainThread
2025-07-20 16:02:37,592[src.utils.config_manager] - INFO - MQTT信息已成功更新 - MainThread
2025-07-20 16:02:37,592[src.utils.config_manager] - INFO - 检测到WebSocket配置信息 - MainThread
2025-07-20 16:02:37,594[src.utils.config_manager] - INFO - WebSocket URL已更新: wss://api.tenclass.net/xiaozhi/v1/ - MainThread
2025-07-20 16:02:37,594[src.utils.config_manager] - INFO - WebSocket Token已更新 - MainThread
2025-07-20 16:02:38,595[src.utils.device_activator] - INFO - 设备身份信息: 序列号: SN-F0088FE6-204ef6865a4f, 激活状态: 未激活 - MainThread
2025-07-20 16:02:38,596[src.utils.config_manager] - INFO - OTA请求使用激活版本: 2 (配置值: v2) - MainThread
2025-07-20 16:02:38,597[__main__] - INFO - Application started, press Ctrl+C to exit - MainThread
2025-07-20 16:02:38,597[src.application] - INFO - Starting application with parameters: {'mode': 'gui', 'protocol': 'websocket'} - MainThread
2025-07-20 16:02:38,598[src.application] - INFO - Main loop started - Thread-1 (_main_loop)
2025-07-20 16:02:38,700[src.application] - INFO - Initializing application components... - Thread-2 (_run_event_loop)
2025-07-20 16:02:39,044[src.audio_codecs.audio_codec] - INFO - Audio device and codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:02:39,044[src.application] - INFO - Audio codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:02:39,045[src.application] - INFO - System volume control is not enabled, using simulated volume control - Thread-2 (_run_event_loop)
2025-07-20 16:02:39,045[src.application] - INFO - Wake word functionality is disabled in configuration, skipping initialization - Thread-2 (_run_event_loop)
2025-07-20 16:02:39,045[src.application] - INFO - Application components initialization completed - Thread-2 (_run_event_loop)
2025-07-20 16:02:39,500[src.iot.things.music_player] - INFO - 音乐播放器初始化完成 - MainThread
2025-07-20 16:02:39,533[src.application] - INFO - Added countdown timer device for timed command execution - MainThread
2025-07-20 16:02:39,533[src.application] - INFO - IoT devices initialization completed - MainThread
2025-07-20 16:02:39,534[GuiDisplay] - INFO - Volume controller initialized successfully - MainThread
2025-07-20 16:02:39,540[GuiDisplay] - INFO - Read system volume: 86% - MainThread
2025-07-20 16:03:10,257[root] - INFO - 日志系统已初始化，日志文件: /home/tahmaz/py-xiaozhi/logs/app.log - MainThread
2025-07-20 16:03:11,449[src.utils.config_manager] - INFO - MQTT服务器信息已更新 - MainThread
2025-07-20 16:03:11,450[src.utils.config_manager] - INFO - MQTT信息已成功更新 - MainThread
2025-07-20 16:03:11,450[src.utils.config_manager] - INFO - 检测到WebSocket配置信息 - MainThread
2025-07-20 16:03:11,452[src.utils.config_manager] - INFO - WebSocket URL已更新: wss://api.tenclass.net/xiaozhi/v1/ - MainThread
2025-07-20 16:03:11,452[src.utils.config_manager] - INFO - WebSocket Token已更新 - MainThread
2025-07-20 16:03:12,453[src.utils.device_activator] - INFO - 设备身份信息: 序列号: SN-F0088FE6-204ef6865a4f, 激活状态: 未激活 - MainThread
2025-07-20 16:03:12,454[src.utils.config_manager] - INFO - OTA请求使用激活版本: 2 (配置值: v2) - MainThread
2025-07-20 16:03:12,455[__main__] - INFO - Application started, press Ctrl+C to exit - MainThread
2025-07-20 16:03:12,455[src.application] - INFO - Starting application with parameters: {'mode': 'gui', 'protocol': 'websocket'} - MainThread
2025-07-20 16:03:12,456[src.application] - INFO - Main loop started - Thread-1 (_main_loop)
2025-07-20 16:03:12,558[src.application] - INFO - Initializing application components... - Thread-2 (_run_event_loop)
2025-07-20 16:03:12,873[src.audio_codecs.audio_codec] - INFO - Audio device and codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:03:12,873[src.application] - INFO - Audio codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:03:12,874[src.application] - INFO - System volume control is not enabled, using simulated volume control - Thread-2 (_run_event_loop)
2025-07-20 16:03:12,874[src.application] - INFO - Wake word functionality is disabled in configuration, skipping initialization - Thread-2 (_run_event_loop)
2025-07-20 16:03:12,874[src.application] - INFO - Application components initialization completed - Thread-2 (_run_event_loop)
2025-07-20 16:03:13,112[src.iot.things.music_player] - INFO - 音乐播放器初始化完成 - MainThread
2025-07-20 16:03:13,137[src.application] - INFO - Added countdown timer device for timed command execution - MainThread
2025-07-20 16:03:13,138[src.application] - INFO - IoT devices initialization completed - MainThread
2025-07-20 16:03:13,138[GuiDisplay] - INFO - Volume controller initialized successfully - MainThread
2025-07-20 16:03:13,145[GuiDisplay] - INFO - Read system volume: 86% - MainThread
2025-07-20 16:03:13,247[Display] - INFO - Added shortcut hint label - MainThread
2025-07-20 16:03:13,247[Display] - INFO - Using second page of stackedWidget as iot_card: <PyQt5.QtWidgets.QWidget object at 0x71b803f6b400> - MainThread
2025-07-20 16:03:13,260[Display] - INFO - System tray icon initialized - MainThread
2025-07-20 16:03:13,261[Display] - INFO - Keyboard listener initialized successfully - MainThread
2025-07-20 16:03:13,263[Display] - INFO - Starting GUI main loop - MainThread
2025-07-20 16:03:13,343[__main__] - INFO - Starting Qt event loop - MainThread
2025-07-20 16:03:13,344[Display] - INFO - Setting emotion GIF: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 16:03:13,344[Display] - INFO - Loading GIF file: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 16:03:19,473[Display] - WARNING - Home Assistant URL or Token not configured, unable to update device states - MainThread
2025-07-20 16:03:20,424[Display] - WARNING - Home Assistant URL or Token not configured, unable to update device states - MainThread
2025-07-20 16:03:58,159[Display] - WARNING - Home Assistant URL or Token not configured, unable to update device states - MainThread
2025-07-20 16:03:59,209[Display] - WARNING - Home Assistant URL or Token not configured, unable to update device states - MainThread
2025-07-20 16:04:19,030[Display] - WARNING - Home Assistant URL or Token not configured, unable to update device states - MainThread
2025-07-20 16:04:19,980[Display] - WARNING - Home Assistant URL or Token not configured, unable to update device states - MainThread
2025-07-20 16:04:45,866[Display] - INFO - Launching Home Assistant device manager... - MainThread
2025-07-20 16:06:36,052[src.application] - INFO - Conversation mode switched to: Auto - MainThread
2025-07-20 16:06:39,286[src.application] - INFO - Audio channel opened - Thread-2 (_run_event_loop)
2025-07-20 16:06:39,286[src.application] - INFO - IoT device states updated (full) - Thread-2 (_run_event_loop)
2025-07-20 16:06:39,286[src.protocols.websocket_protocol] - INFO - 成功处理服务器 hello 消息 - Thread-2 (_run_event_loop)
2025-07-20 16:06:39,287[src.protocols.websocket_protocol] - INFO - 已连接到WebSocket服务器 - Thread-2 (_run_event_loop)
2025-07-20 16:06:39,354[src.application] - INFO - Input event trigger thread started - Thread-1 (_main_loop)
2025-07-20 16:06:39,354[src.application] - INFO - Output event trigger thread started - Thread-1 (_main_loop)
2025-07-20 16:06:39,354[src.application] - INFO - Audio streams started - Thread-1 (_main_loop)
2025-07-20 16:06:39,354[src.application] - INFO - IoT device states updated (incremental) - Thread-1 (_main_loop)
2025-07-20 16:06:42,897[src.application] - INFO - >> İzlediğiniz için teşekkür ederim. - Thread-2 (_run_event_loop)
2025-07-20 16:06:43,290[Display] - INFO - Setting emotion GIF: /home/tahmaz/py-xiaozhi/assets/emojis/happy.gif - MainThread
2025-07-20 16:06:43,483[Display] - INFO - Loading GIF file: /home/tahmaz/py-xiaozhi/assets/emojis/happy.gif - MainThread
2025-07-20 16:06:43,822[src.application] - INFO - << İzlediğiniz için teşekkür ederim. - Thread-2 (_run_event_loop)
2025-07-20 16:06:45,612[src.application] - INFO - << Bugün yapmak istediğiniz bir şey var mı? - Thread-2 (_run_event_loop)
2025-07-20 16:06:48,167[src.audio_codecs.audio_codec] - INFO - Audio input stream reinitialized successfully - Thread-1 (_main_loop)
2025-07-20 16:06:48,688[Display] - INFO - Setting emotion GIF: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 16:06:54,674[src.application] - ERROR - 发送音频数据失败: sent 1000 (OK); then received 1000 (OK) - Thread-2 (_run_event_loop)
2025-07-20 16:06:54,675[src.application] - INFO - Connection disconnection detected - Thread-2 (_run_event_loop)
2025-07-20 16:06:54,675[src.application] - INFO - Audio channel closed - Thread-2 (_run_event_loop)
2025-07-20 16:07:45,205[Display] - INFO - Read 0 devices from configuration manager - MainThread
2025-07-20 16:07:45,207[Display] - INFO - Settings successfully saved to config.json - MainThread
2025-07-20 16:07:47,397[Display] - INFO - User chose to restart the application. - MainThread
2025-07-20 16:07:47,664[root] - INFO - 日志系统已初始化，日志文件: /home/tahmaz/py-xiaozhi/logs/app.log - MainThread
2025-07-20 16:07:48,965[src.utils.config_manager] - INFO - MQTT服务器信息已更新 - MainThread
2025-07-20 16:07:48,966[src.utils.config_manager] - INFO - MQTT信息已成功更新 - MainThread
2025-07-20 16:07:48,967[src.utils.config_manager] - INFO - 检测到WebSocket配置信息 - MainThread
2025-07-20 16:07:48,969[src.utils.config_manager] - INFO - WebSocket URL已更新: wss://api.tenclass.net/xiaozhi/v1/ - MainThread
2025-07-20 16:07:48,970[src.utils.config_manager] - INFO - WebSocket Token已更新 - MainThread
2025-07-20 16:07:49,971[src.utils.device_activator] - INFO - 设备身份信息: 序列号: SN-F0088FE6-204ef6865a4f, 激活状态: 未激活 - MainThread
2025-07-20 16:07:49,972[src.utils.config_manager] - INFO - OTA请求使用激活版本: 2 (配置值: v2) - MainThread
2025-07-20 16:07:49,973[__main__] - INFO - Application started, press Ctrl+C to exit - MainThread
2025-07-20 16:07:49,973[src.application] - INFO - Starting application with parameters: {'mode': 'gui', 'protocol': 'websocket'} - MainThread
2025-07-20 16:07:49,975[src.application] - INFO - Main loop started - Thread-1 (_main_loop)
2025-07-20 16:07:50,076[src.application] - INFO - Initializing application components... - Thread-2 (_run_event_loop)
2025-07-20 16:07:50,298[src.audio_codecs.audio_codec] - INFO - Audio device and codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:07:50,299[src.application] - INFO - Audio codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:07:50,299[src.application] - INFO - System volume control is not enabled, using simulated volume control - Thread-2 (_run_event_loop)
2025-07-20 16:07:50,299[src.application] - INFO - Wake word functionality is disabled in configuration, skipping initialization - Thread-2 (_run_event_loop)
2025-07-20 16:07:50,299[src.application] - INFO - Application components initialization completed - Thread-2 (_run_event_loop)
2025-07-20 16:07:50,604[src.iot.things.music_player] - INFO - 音乐播放器初始化完成 - MainThread
2025-07-20 16:07:50,630[src.application] - INFO - Added countdown timer device for timed command execution - MainThread
2025-07-20 16:07:50,630[src.application] - INFO - IoT devices initialization completed - MainThread
2025-07-20 16:07:50,630[GuiDisplay] - INFO - Volume controller initialized successfully - MainThread
2025-07-20 16:07:50,638[GuiDisplay] - INFO - Read system volume: 86% - MainThread
2025-07-20 16:07:50,720[Display] - INFO - Added shortcut hint label - MainThread
2025-07-20 16:07:50,721[Display] - INFO - Using second page of stackedWidget as iot_card: <PyQt5.QtWidgets.QWidget object at 0x7ebe58f67400> - MainThread
2025-07-20 16:07:50,730[Display] - INFO - System tray icon initialized - MainThread
2025-07-20 16:07:50,730[Display] - INFO - Keyboard listener initialized successfully - MainThread
2025-07-20 16:07:50,731[Display] - INFO - Starting GUI main loop - MainThread
2025-07-20 16:07:50,779[__main__] - INFO - Starting Qt event loop - MainThread
2025-07-20 16:07:50,817[Display] - INFO - Setting emotion GIF: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 16:07:50,817[Display] - INFO - Loading GIF file: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 16:08:30,090[__main__] - INFO - Received interrupt signal, shutting down... - MainThread
2025-07-20 16:08:30,091[src.application] - INFO - Shutting down application... - MainThread
2025-07-20 16:08:30,091[src.audio_codecs.audio_codec] - INFO - Starting to close audio codec... - MainThread
2025-07-20 16:08:30,101[src.audio_codecs.audio_codec] - INFO - Audio resources fully released - MainThread
2025-07-20 16:08:30,102[src.application] - INFO - Application shut down - MainThread
2025-07-20 16:09:28,370[root] - INFO - 日志系统已初始化，日志文件: /home/tahmaz/py-xiaozhi/logs/app.log - MainThread
2025-07-20 16:09:29,937[src.utils.config_manager] - INFO - MQTT服务器信息已更新 - MainThread
2025-07-20 16:09:29,943[src.utils.config_manager] - INFO - MQTT信息已成功更新 - MainThread
2025-07-20 16:09:29,943[src.utils.config_manager] - INFO - 检测到WebSocket配置信息 - MainThread
2025-07-20 16:09:29,944[src.utils.config_manager] - INFO - WebSocket URL已更新: wss://api.tenclass.net/xiaozhi/v1/ - MainThread
2025-07-20 16:09:29,946[src.utils.config_manager] - INFO - WebSocket Token已更新 - MainThread
2025-07-20 16:09:30,947[src.utils.device_activator] - INFO - 设备身份信息: 序列号: SN-F0088FE6-204ef6865a4f, 激活状态: 未激活 - MainThread
2025-07-20 16:09:30,947[src.utils.config_manager] - INFO - OTA请求使用激活版本: 2 (配置值: v2) - MainThread
2025-07-20 16:09:30,948[__main__] - INFO - Application started, press Ctrl+C to exit - MainThread
2025-07-20 16:09:30,949[src.application] - INFO - Starting application with parameters: {'mode': 'gui', 'protocol': 'websocket'} - MainThread
2025-07-20 16:09:30,950[src.application] - INFO - Main loop started - Thread-1 (_main_loop)
2025-07-20 16:09:31,052[src.application] - INFO - Initializing application components... - Thread-2 (_run_event_loop)
2025-07-20 16:09:31,380[src.audio_codecs.audio_codec] - INFO - Audio device and codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:09:31,381[src.application] - INFO - Audio codec initialized successfully - Thread-2 (_run_event_loop)
2025-07-20 16:09:31,381[src.application] - INFO - System volume control is not enabled, using simulated volume control - Thread-2 (_run_event_loop)
2025-07-20 16:09:31,381[src.application] - INFO - Wake word functionality is disabled in configuration, skipping initialization - Thread-2 (_run_event_loop)
2025-07-20 16:09:31,383[src.application] - INFO - Application components initialization completed - Thread-2 (_run_event_loop)
2025-07-20 16:09:31,618[src.iot.things.music_player] - INFO - 音乐播放器初始化完成 - MainThread
2025-07-20 16:09:31,643[src.application] - INFO - Added countdown timer device for timed command execution - MainThread
2025-07-20 16:09:31,644[src.application] - INFO - IoT devices initialization completed - MainThread
2025-07-20 16:09:31,644[GuiDisplay] - INFO - Volume controller initialized successfully - MainThread
2025-07-20 16:09:31,651[GuiDisplay] - INFO - Read system volume: 86% - MainThread
2025-07-20 16:09:31,725[Display] - INFO - Added shortcut hint label - MainThread
2025-07-20 16:09:31,725[Display] - INFO - Using second page of stackedWidget as iot_card: <PyQt5.QtWidgets.QWidget object at 0x76849475f400> - MainThread
2025-07-20 16:09:31,736[Display] - INFO - System tray icon initialized - MainThread
2025-07-20 16:09:31,736[Display] - INFO - Keyboard listener initialized successfully - MainThread
2025-07-20 16:09:31,768[Display] - INFO - Starting GUI main loop - MainThread
2025-07-20 16:09:31,813[__main__] - INFO - Starting Qt event loop - MainThread
2025-07-20 16:09:31,814[Display] - INFO - Setting emotion GIF: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 16:09:31,814[Display] - INFO - Loading GIF file: /home/tahmaz/py-xiaozhi/assets/emojis/neutral.gif - MainThread
2025-07-20 18:10:55,644[src.application] - INFO - Audio channel opened - Thread-2 (_run_event_loop)
2025-07-20 18:10:55,646[src.application] - INFO - IoT device states updated (full) - Thread-2 (_run_event_loop)
2025-07-20 18:10:55,646[src.protocols.websocket_protocol] - INFO - 成功处理服务器 hello 消息 - Thread-2 (_run_event_loop)
2025-07-20 18:10:55,649[src.protocols.websocket_protocol] - INFO - 已连接到WebSocket服务器 - Thread-2 (_run_event_loop)
2025-07-20 18:10:55,713[src.application] - INFO - Input event trigger thread started - Thread-1 (_main_loop)
2025-07-20 18:10:55,714[src.application] - INFO - Output event trigger thread started - Thread-1 (_main_loop)
2025-07-20 18:10:55,714[src.application] - INFO - Audio streams started - Thread-1 (_main_loop)
2025-07-20 18:10:55,714[src.application] - INFO - IoT device states updated (incremental) - Thread-1 (_main_loop)
2025-07-20 18:12:01,847[src.audio_codecs.audio_codec] - INFO - Audio input stream reinitialized successfully - Thread-1 (_main_loop)
2025-07-20 18:12:02,357[src.protocols.websocket_protocol] - ERROR - 发送文本消息失败: received 1005 (no status code [internal]); then sent 1005 (no status code [internal]) - Thread-2 (_run_event_loop)
2025-07-20 18:12:02,357[src.application] - INFO - Audio channel closed - Thread-2 (_run_event_loop)
2025-07-20 18:12:02,358[src.application] - ERROR - 客户端已关闭 - Thread-2 (_run_event_loop)
2025-07-20 18:12:02,358[src.application] - INFO - Connection disconnection detected - Thread-2 (_run_event_loop)
